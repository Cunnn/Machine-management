<!doctype html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>機器管理</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            管理系統
        </div>
        <a href="{{ url_for('index') }}" class="active">
            <img src="{{ url_for('static', filename='icons/machine.png') }}" alt="機器管理圖標" width="20" height="20"> 
            機器管理
        </a>
        <a href="{{ url_for('purchase_cost') }}">
            <img src="{{ url_for('static', filename='icons/purchase.png') }}" alt="進貨與成本圖標" width="20" height="20"> 
            進貨與成本
        </a>
        <a href="{{ url_for('revenue') }}">
            <img src="{{ url_for('static', filename='icons/revenue.png') }}" alt="營收圖標" width="20" height="20"> 
            營收
        </a>
        <a href="{{ url_for('member_management') }}">
            <img src="{{ url_for('static', filename='icons/member.png') }}" alt="會員資料管理圖標" width="20" height="20"> 
            會員資料管理
        </a>
    </div>
    <div class="content">
        <h1>機器管理</h1>
        <table>
            <tr>
                <th>機器</th>
                <th>代幣數量</th>
                <th>夾一次所需硬幣</th>
                <th>Action</th>
            </tr>
            {% for machine in machines %}
            <tr>
                <td>{{ machine.name }}</td>
                <td>{{ loop.index }}</td>
                <td>{{ machine.quantity }}</td>
                <td>
                    <a href="{{ url_for('edit_machine', machine_id=machine.id) }}">修改</a>
                    <a href="{{ url_for('delete_machine', machine_id=machine.id) }}" onclick="return confirmDelete()">刪除</a>
                </td>
            </tr>
            {% endfor %}
            <tr>
                <td colspan="2">總計</td>
                <td>{{ total_quantity }}</td>
                <td></td>
            </tr>
        </table>
        <div class="actions">
            <a href="{{ url_for('add_machine') }}">新增機器</a>
            <a href="{{ url_for('export_data') }}">匯出資料</a>
            <a href="{{ url_for('import_data') }}">匯入資料</a>
        </div>
    </div>
    <script>
        function confirmDelete() {
            return confirm("確定要刪除這個機器嗎？");
        }
    </script>
</body>
</html>